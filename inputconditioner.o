#! /usr/bin/vvp
:ivl_version "0.9.7 " "(v0_9_7)";
:vpi_time_precision + 0;
:vpi_module "system";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_0x116e690 .scope module, "testConditioner" "testConditioner" 2 7;
 .timescale 0 0;
v0x11bfde0_0 .var "clk", 0 0;
v0x11bfe80_0 .net "conditioned", 0 0, v0x11bf8e0_0; 1 drivers
v0x11bff30_0 .var "dutPassed", 0 0;
v0x11bffb0_0 .var "expected", 0 69;
v0x11c0060_0 .var "expectedWire", 0 0;
v0x11c00e0_0 .var "expected_negativeedge", 0 69;
v0x11c0180_0 .var "expected_positiveedge", 0 69;
v0x11c0220_0 .net "falling", 0 0, v0x11bfa20_0; 1 drivers
v0x11c02f0_0 .var/i "i", 31 0;
v0x11c0370_0 .var "noisy", 0 69;
v0x11c0470_0 .var "pin", 0 0;
v0x11c0520_0 .net "rising", 0 0, v0x11bfb70_0; 1 drivers
S_0x116e780 .scope module, "dut" "inputconditioner" 2 15, 3 8, S_0x116e690;
 .timescale 0 0;
P_0x116e878 .param/l "counterwidth" 3 17, +C4<011>;
P_0x116e8a0 .param/l "waittime" 3 18, +C4<011>;
v0x116f3c0_0 .net "clk", 0 0, v0x11bfde0_0; 1 drivers
v0x11bf8e0_0 .var "conditioned", 0 0;
v0x11bf980_0 .var "counter", 2 0;
v0x11bfa20_0 .var "negativeedge", 0 0;
v0x11bfad0_0 .net "noisysignal", 0 0, v0x11c0470_0; 1 drivers
v0x11bfb70_0 .var "positiveedge", 0 0;
v0x11bfc50_0 .var "synchronizer0", 0 0;
v0x11bfcf0_0 .var "synchronizer1", 0 0;
E_0x1193d60 .event posedge, v0x116f3c0_0;
    .scope S_0x116e780;
T_0 ;
    %set/v v0x11bf980_0, 0, 3;
    %end;
    .thread T_0;
    .scope S_0x116e780;
T_1 ;
    %set/v v0x11bfc50_0, 0, 1;
    %end;
    .thread T_1;
    .scope S_0x116e780;
T_2 ;
    %set/v v0x11bfcf0_0, 0, 1;
    %end;
    .thread T_2;
    .scope S_0x116e780;
T_3 ;
    %wait E_0x1193d60;
    %load/v 8, v0x11bf8e0_0, 1;
    %load/v 9, v0x11bfcf0_0, 1;
    %cmp/u 8, 9, 1;
    %jmp/0xz  T_3.0, 4;
    %ix/load 0, 3, 0;
    %assign/v0 v0x11bf980_0, 0, 0;
    %ix/load 0, 1, 0;
    %assign/v0 v0x11bfb70_0, 0, 0;
    %ix/load 0, 1, 0;
    %assign/v0 v0x11bfa20_0, 0, 0;
    %jmp T_3.1;
T_3.0 ;
    %load/v 8, v0x11bf980_0, 3;
    %mov 11, 0, 1;
    %cmpi/u 8, 3, 4;
    %jmp/0xz  T_3.2, 4;
    %ix/load 0, 3, 0;
    %assign/v0 v0x11bf980_0, 0, 0;
    %load/v 8, v0x11bfcf0_0, 1;
    %ix/load 0, 1, 0;
    %assign/v0 v0x11bf8e0_0, 0, 8;
    %load/v 8, v0x11bf8e0_0, 1;
    %inv 8, 1;
    %load/v 9, v0x11bfcf0_0, 1;
    %and 8, 9, 1;
    %ix/load 0, 1, 0;
    %assign/v0 v0x11bfb70_0, 0, 8;
    %load/v 8, v0x11bf8e0_0, 1;
    %load/v 9, v0x11bfcf0_0, 1;
    %inv 9, 1;
    %and 8, 9, 1;
    %ix/load 0, 1, 0;
    %assign/v0 v0x11bfa20_0, 0, 8;
    %jmp T_3.3;
T_3.2 ;
    %load/v 8, v0x11bf980_0, 3;
    %mov 11, 0, 29;
    %addi 8, 1, 32;
    %ix/load 0, 3, 0;
    %assign/v0 v0x11bf980_0, 0, 8;
T_3.3 ;
T_3.1 ;
    %load/v 8, v0x11bfad0_0, 1;
    %ix/load 0, 1, 0;
    %assign/v0 v0x11bfc50_0, 0, 8;
    %load/v 8, v0x11bfc50_0, 1;
    %ix/load 0, 1, 0;
    %assign/v0 v0x11bfcf0_0, 0, 8;
    %jmp T_3;
    .thread T_3;
    .scope S_0x116e690;
T_4 ;
    %set/v v0x11bfde0_0, 0, 1;
    %end;
    .thread T_4;
    .scope S_0x116e690;
T_5 ;
    %delay 10, 0;
    %load/v 8, v0x11bfde0_0, 1;
    %inv 8, 1;
    %set/v v0x11bfde0_0, 8, 1;
    %jmp T_5;
    .thread T_5;
    .scope S_0x116e690;
T_6 ;
    %vpi_call 2 40 "$dumpfile", "inputconditioner.vcd";
    %vpi_call 2 41 "$dumpvars";
    %set/v v0x11bff30_0, 1, 1;
    %movi 8, 3145727, 32;
    %movi 40, 268435200, 32;
    %movi 72, 0, 6;
    %set/v v0x11c0370_0, 8, 70;
    %movi 78, 3758098431, 32;
    %movi 110, 131071, 31;
    %mov 141, 2, 7;
    %set/v v0x11bffb0_0, 78, 70;
    %movi 148, 1536, 32;
    %movi 180, 98304, 31;
    %mov 211, 2, 7;
    %set/v v0x11c0180_0, 148, 70;
    %movi 218, 402653184, 32;
    %movi 250, 0, 29;
    %mov 279, 2, 9;
    %set/v v0x11c00e0_0, 218, 70;
    %set/v v0x11c02f0_0, 0, 32;
T_6.0 ;
    %load/v 8, v0x11c02f0_0, 32;
   %cmpi/s 8, 70, 32;
    %jmp/0xz T_6.1, 5;
    %movi 8, 69, 33;
    %load/v 41, v0x11c02f0_0, 32;
    %mov 73, 72, 1;
    %sub 8, 41, 33;
    %ix/get/s 1, 8, 33;
    %jmp/1 T_6.2, 4;
    %load/x1p 8, v0x11c0370_0, 1;
    %jmp T_6.3;
T_6.2 ;
    %mov 8, 2, 1;
T_6.3 ;
; Save base=8 wid=1 in lookaside.
    %ix/load 0, 1, 0;
    %assign/v0 v0x11c0470_0, 0, 8;
    %movi 8, 69, 33;
    %load/v 41, v0x11c02f0_0, 32;
    %mov 73, 72, 1;
    %sub 8, 41, 33;
    %ix/get/s 1, 8, 33;
    %jmp/1 T_6.4, 4;
    %load/x1p 8, v0x11bffb0_0, 1;
    %jmp T_6.5;
T_6.4 ;
    %mov 8, 2, 1;
T_6.5 ;
; Save base=8 wid=1 in lookaside.
    %ix/load 0, 1, 0;
    %assign/v0 v0x11c0060_0, 0, 8;
    %delay 10, 0;
    %load/v 8, v0x11bfe80_0, 1;
    %movi 9, 69, 33;
    %load/v 42, v0x11c02f0_0, 32;
    %mov 74, 73, 1;
    %sub 9, 42, 33;
    %ix/get/s 1, 9, 33;
    %jmp/1 T_6.6, 4;
    %load/x1p 9, v0x11bffb0_0, 1;
    %jmp T_6.7;
T_6.6 ;
    %mov 9, 2, 1;
T_6.7 ;
; Save base=9 wid=1 in lookaside.
    %cmp/u 8, 9, 1;
    %inv 6, 1;
    %jmp/0xz  T_6.8, 6;
    %set/v v0x11bff30_0, 0, 1;
    %vpi_call 2 57 "$display", "Expected debounce broken here: %d", v0x11c02f0_0;
    %movi 8, 69, 33;
    %load/v 41, v0x11c02f0_0, 32;
    %mov 73, 72, 1;
    %sub 8, 41, 33;
    %vpi_call 2 58 "$display", "Expected debounce:    %d", &PV<v0x11bffb0_0, 8 33, 1>;
    %vpi_call 2 59 "$display", "Conditioned debounce: %d", v0x11bfe80_0;
T_6.8 ;
    %load/v 8, v0x11c0520_0, 1;
    %movi 9, 69, 33;
    %load/v 42, v0x11c02f0_0, 32;
    %mov 74, 73, 1;
    %sub 9, 42, 33;
    %ix/get/s 1, 9, 33;
    %jmp/1 T_6.10, 4;
    %load/x1p 9, v0x11c0180_0, 1;
    %jmp T_6.11;
T_6.10 ;
    %mov 9, 2, 1;
T_6.11 ;
; Save base=9 wid=1 in lookaside.
    %cmp/u 8, 9, 1;
    %inv 6, 1;
    %jmp/0xz  T_6.12, 6;
    %set/v v0x11bff30_0, 0, 1;
    %vpi_call 2 64 "$display", "Expected positiveedge broken here: %d", v0x11c02f0_0;
    %movi 8, 69, 33;
    %load/v 41, v0x11c02f0_0, 32;
    %mov 73, 72, 1;
    %sub 8, 41, 33;
    %vpi_call 2 65 "$display", "Expected positiveedge:    %d", &PV<v0x11c0180_0, 8 33, 1>;
    %vpi_call 2 66 "$display", "Conditioned positiveedge: %d", v0x11c0520_0;
T_6.12 ;
    %load/v 8, v0x11c0220_0, 1;
    %movi 9, 69, 33;
    %load/v 42, v0x11c02f0_0, 32;
    %mov 74, 73, 1;
    %sub 9, 42, 33;
    %ix/get/s 1, 9, 33;
    %jmp/1 T_6.14, 4;
    %load/x1p 9, v0x11c00e0_0, 1;
    %jmp T_6.15;
T_6.14 ;
    %mov 9, 2, 1;
T_6.15 ;
; Save base=9 wid=1 in lookaside.
    %cmp/u 8, 9, 1;
    %inv 6, 1;
    %jmp/0xz  T_6.16, 6;
    %set/v v0x11bff30_0, 0, 1;
    %vpi_call 2 71 "$display", "Expected negativeedge broken here: %d", v0x11c02f0_0;
    %movi 8, 69, 33;
    %load/v 41, v0x11c02f0_0, 32;
    %mov 73, 72, 1;
    %sub 8, 41, 33;
    %vpi_call 2 72 "$display", "Expected negativeedge:    %d", &PV<v0x11c00e0_0, 8 33, 1>;
    %vpi_call 2 73 "$display", "Conditioned negativeedge: %d", v0x11c0220_0;
T_6.16 ;
    %ix/load 0, 1, 0;
    %load/vp0/s 8, v0x11c02f0_0, 32;
    %set/v v0x11c02f0_0, 8, 32;
    %jmp T_6.0;
T_6.1 ;
    %vpi_call 2 77 "$display", "Did all tests pass? %b", v0x11bff30_0;
    %vpi_call 2 78 "$finish";
    %end;
    .thread T_6;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    "inputconditioner.t.v";
    "./inputconditioner.v";
